import { Meta } from "@storybook/addon-docs";

import merge from "deepmerge";

import semanticTokens from "@vector-im/compound-design-tokens/tokens/theme-semantics.json";
import semanticThemeTokens from "@vector-im/compound-design-tokens/tokens/theme-semantics.json";

import SemanticDefinition from "../components/SemanticDefinition";
import getFlatTokenList from "../../src/utils/getFlatTokenList";

<Meta title="Design/Semantic tokens" />

<h1>Semantic tokens</h1>

{ Object.entries(merge(semanticTokens, semanticThemeTokens).color).map(([name, tokens]) => {
return <div key={name}>

{ console.log() }

<h2>{name}</h2>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Value</th>
      <th>Variable</th>
    </tr>
  </thead>
  <tbody>
    {getFlatTokenList(tokens, `${name}-`).map((definition) => {
      return (
        <SemanticDefinition
          key={definition.tokenName}
          tokenName={definition.tokenName}
          tokenType={definition.prefix}
          definition={definition}
        />
      );
    })}
  </tbody>
</table>

  </div>
})}
